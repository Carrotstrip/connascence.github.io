<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <meta charset="utf-8" />
  
  <meta name="description" content="Connascence of position is when multiple components must agree on the order of values." />
    <title>  connascence.io: Connascence of Position
</title>

    <!-- Bootstrap -->
    <link href="http://connascence.io/theme/css/bootstrap.min.css" rel="stylesheet">
    <link href="http://connascence.io/theme/css/style.css" rel="stylesheet">
    <link href="http://connascence.io/theme/css/pygments.css" rel="stylesheet">

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="container-fluid">
      <div class="row contentrow">
        <div class="col-md-2 col-sm-4 col-xs-12">
          <div id="sidebar-wrapper">
            <div class="sidebar-brand">
              <h4><a href="http://connascence.io">connascence.io</a></h4>
            </div>
            <div class="panel panel-default">
              <!-- Default panel contents -->
              <div class="panel-heading">Static Connascences</div>
              <!-- List group -->
              <ul class="list-group">
                <li class="list-group-item"><a href="http://connascence.io/name.html">Name</a></li>
                <li class="list-group-item"><a href="http://connascence.io/type.html">Type</a></li>
                <li class="list-group-item"><a href="http://connascence.io/meaning.html">Meaning</a></li>
                <li class="list-group-item"><a href="http://connascence.io/position.html">Position</a></li>
                <li class="list-group-item"><a href="http://connascence.io/algorithm.html">Algorithm</a></li>
              </ul>
              <!-- Default panel contents -->
              <div class="panel-heading">Dynamic Connascences</div>
              <!-- List group -->
              <ul class="list-group">
                <li class="list-group-item"><a href="http://connascence.io/execution.html">Execution</a></li>
                <li class="list-group-item"><a href="http://connascence.io/timing.html">Timing</a></li>
                <li class="list-group-item"><a href="http://connascence.io/value.html">Value</a></li>
                <li class="list-group-item"><a href="http://connascence.io/identity.html">Identity</a></li>
              </ul>
              <!-- Default panel contents -->
              <div class="panel-heading">Properties</div>
              <!-- List group -->
              <ul class="list-group">
                <li class="list-group-item"><a href="http://connascence.io/strength.html">Strength</a></li>
                <li class="list-group-item"><a href="http://connascence.io/locality.html">Locality</a></li>
                <li class="list-group-item"><a href="http://connascence.io/degree.html">Degree</a></li>
              </ul>
              <div class="panel-heading"><a href="http://connascence.io/pages/about.html">Other Resources</a></div>
            </div>
          </div> <!-- sidebar-wrapper -->
        </div>

        <div class="col-md-10 col-sm-8 col-xs-12">
          <div id="page-content-wrapper">
            <div class="container-fluid">
<section id="content" class="body">
  <header>
    <h2 class="entry-title">
      <a href="http://connascence.io/position.html" rel="bookmark"
         title="Permalink to Connascence of Position">Connascence of Position</a></h2>
 
  </header>
  <div class="entry-content">
    <p>Connascence of position is when multiple entities must agree on the order of values.</p>
<div class="section" id="in-data-structures">
<h2>In Data Structures</h2>
<p>For example, consider a function that retrieves a user's details:</p>
<div class="highlight"><pre><span class="k">def</span> <span class="nf">get_user_details</span><span class="p">():</span>
    <span class="c"># Returns a user&#39;s details as a list:</span>
    <span class="c"># first_name, last_name, year_of_birth, is_admin</span>
    <span class="k">return</span> <span class="p">[</span><span class="s">&quot;Thomas&quot;</span><span class="p">,</span> <span class="s">&quot;Richards&quot;</span><span class="p">,</span> <span class="mi">1984</span><span class="p">,</span> <span class="bp">True</span><span class="p">]</span>
</pre></div>
<p>This is a somewhat contrived example, but it's not uncommon to see data returned in lists or tuples. Elsewhere in the code we might need to perform some check on whether the user is an administrator or not:</p>
<div class="highlight"><pre><span class="k">def</span> <span class="nf">launch_nukes</span><span class="p">(</span><span class="n">user</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">user</span><span class="p">[</span><span class="mi">3</span><span class="p">]:</span>
        <span class="c"># actually launch the nukes</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">PermissionDeniedError</span><span class="p">(</span><span class="s">&quot;User is not an administrator!&quot;</span><span class="p">)</span>
</pre></div>
<p>These two functions are linked by <em>connascence of position</em>. If the order of the values in the user list ever changes, both locations must be updated (this example is particularly scary if someone were to update the user list to be <tt class="docutils literal">[first_name, initials, last_name, year_of_birth, is_admin]</tt> without updating the check inside launch_nukes).</p>
<p>This connascence can be improved to connascence of name by turning the list into a dictionary or class. The following example shows how the above functions might look as a dictionary:</p>
<div class="highlight"><pre><span class="k">def</span> <span class="nf">get_user_details</span><span class="p">():</span>
    <span class="k">return</span> <span class="p">{</span>
        <span class="s">&quot;first_name&quot;</span><span class="p">:</span> <span class="s">&quot;Thomas&quot;</span><span class="p">,</span>
        <span class="s">&quot;last_name&quot;</span><span class="p">:</span> <span class="s">&quot;Richards&quot;</span><span class="p">,</span>
        <span class="s">&quot;year_of_birth&quot;</span><span class="p">:</span> <span class="mi">1984</span><span class="p">,</span>
        <span class="s">&quot;is_admin&quot;</span><span class="p">:</span> <span class="bp">True</span><span class="p">,</span>
    <span class="p">}</span>


<span class="k">def</span> <span class="nf">launch_nukes</span><span class="p">(</span><span class="n">user</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">user</span><span class="p">[</span><span class="s">&#39;is_admin&#39;</span><span class="p">]:</span>
        <span class="c"># actually launch the nukes</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">PermissionDeniedError</span><span class="p">(</span><span class="s">&quot;User is not an administrator!&quot;</span><span class="p">)</span>
</pre></div>
<p>Note that these two functions are still coupled, but we've turned connascence of position into the weaker connascence of name. This has also increased the readability of the <tt class="docutils literal">get_user_details</tt> function - the explicit comment is no longer needed to document the order of the keys.</p>
<p>A similar solution is to use a class instead of a dictionary, and this can be beneficial if the structure being returned has constraints or operations associated with it.</p>
</div>
<div class="section" id="in-function-arguments">
<h2>In Function Arguments</h2>
<p>Connascence of position also frequently occurs in function argument lists. Consider the following function declaration from a mythical email-sending utility library:</p>
<div class="highlight"><pre><span class="k">def</span> <span class="nf">send_email</span><span class="p">(</span><span class="n">firstname</span><span class="p">,</span> <span class="n">lastname</span><span class="p">,</span> <span class="n">email</span><span class="p">,</span> <span class="n">subject</span><span class="p">,</span> <span class="n">body</span><span class="p">,</span> <span class="n">attachments</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
</pre></div>
<p>Code calling this <tt class="docutils literal">send_email</tt> function must remember the order of arguments. Should that order ever change, all calling locations must also be updated. This example could also be improved to connascence of name by passing a structured object (a class or dictionary) instead of a number of parameters.</p>
</div>

  </div><!-- /.entry-content -->
</section>
            </div>
          </div>
        </div>
      </div>
    </div>
    <footer class="footer">
      <div class="container">
        <p class="text-muted"><a rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-sa/3.0/80x15.png" /></a>This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/">Creative Commons Attribution-ShareAlike 3.0 Unported License</a>.</p>
      </div>
    </footer>


    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="http://connascence.io/theme/js/bootstrap.min.js"></script>
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
      ga('create', 'UA-66884952-1', 'auto');
      ga('send', 'pageview');
    </script>
  </body>
</html>
